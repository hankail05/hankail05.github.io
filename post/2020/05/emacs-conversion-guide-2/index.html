<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>이맥스 개종 가이드 2 - 사람다운 이맥스 만들기 - 가지 않은 길</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="이맥스 개종 가이드 2 - 사람다운 이맥스 만들기" />
<meta property="og:description" content="순정 이맥스는 안 타는 쓰레기라서 그냥 쓰면 기대 수명이 짧아진다. 100세 시대를 이룩하기 위해 본격적으로 패키지를 깔고 설정하자." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hankail05.github.io/post/2020/05/emacs-conversion-guide-2/" />
<meta property="og:image" content="https://hankail05.github.io/images/main.png"/>
<meta property="article:published_time" content="2020-05-10T15:38:00+09:00" />
<meta property="article:modified_time" content="2020-05-10T15:38:00+09:00" />

	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-164655053-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="가지 않은 길" rel="home">
				<div class="logo__title">가지 않은 길</div>
				<div class="logo__tagline">진귀한 글을 적기 위해 노력함</div>
			</a>
		</div>
		<div class="divider"></div>
                
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-164655053-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

                <meta property="og:title" content="이맥스 개종 가이드 2 - 사람다운 이맥스 만들기" />
<meta property="og:description" content="순정 이맥스는 안 타는 쓰레기라서 그냥 쓰면 기대 수명이 짧아진다. 100세 시대를 이룩하기 위해 본격적으로 패키지를 깔고 설정하자." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hankail05.github.io/post/2020/05/emacs-conversion-guide-2/" />
<meta property="og:image" content="https://hankail05.github.io/images/main.png"/>
<meta property="article:published_time" content="2020-05-10T15:38:00+09:00" />
<meta property="article:modified_time" content="2020-05-10T15:38:00+09:00" />

	</div>
</header>

		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">이맥스 개종 가이드 2 - 사람다운 이맥스 만들기</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2020-05-10T15:38:00&#43;09:00">2020-05-10</time></div></div>
		</header>
		<figure class="post__thumbnail">
			<img src="/images/real-programmers-use-emacs.png" alt="이맥스 개종 가이드 2 - 사람다운 이맥스 만들기">
		</figure><div class="content post__content clearfix">
			<p>순정 이맥스는 안 타는 쓰레기라서 그냥 쓰면 기대 수명이 짧아진다. 100세 시대를 이룩하기 위해 본격적으로 패키지를 깔고 설정하자.</p>
<p>이맥스는 좋은 에디터이긴 하지만, 그렇다고 순정 이맥스가 좋다는 의미는 아니다. 키맵이 의미 기준으로 배열되어 있고 조합키 사용 빈도가 너무 높아 자주 쓰면 손목이 아프다. 빔이나 vscode가 순정으로도 쓸 만한 것돠는 대조된다. 물론 우리는 순정 상태의 기능을 최대한 쓰지 않을 것이다. 쓴다 하더라도 좀 더 누르기 편한 방식으로 조정할 것이다. 이 장에서 설명할 것들은 어떻게든 이맥스를 편하게 쓰려고 몸을 비튼 결과들이다.</p>
<h2 id="evil">evil</h2>
<p><a href="https://github.com/emacs-evil/evil">evil</a> 은 vim의 그 키보드 레이아웃을 이맥스에 적용하는 패키지이다. 빔키맵은 워낙 유명해서 들어봤다 싶은 에디터에는 빔 키맵 플러그인이 다 있지만, 이맥스의 evil은 그중에서도 완성도가 높다. 하위 패키지로써 빔 플러그인을 포팅한 것들도 있을 정도다. 혹시 빔 키맵을 써보지 않았다면 이번 기회에 배워보는 걸 추천한다. <code>hjkl</code> 만 쓸 줄 알아도 손이 상당히 편해진다.</p>
<p>이 가이드에서 깔 패키지는 evil과 <a href="https://github.com/cofi/evil-leader">evil-leader</a>이다. evil-leader는 리더키라는 하나의 키를 만들어 그 키를 기반으로 한 키맵을 찍어낼 수 있도록 해주는 빔 플러그인 포팅 패키지로, 최소한으로 키맵을 수정하면서 내가 원하는 키맵을 구축할 수 있다. 기존에 있는 키맵을 갈아엎어도 좋지만, 그렇게 되면 이맥스 레퍼런스(이맥스 키맵 수정 시) 또는 순정 빔(evil 키맵 수정 시)과 차이가 심해지기 때문에 본인은 리더키로 커스텀 키맵을 제작하는 편이다.</p>
<p><code>M-x package-install RET evil RET</code> 과 <code>M-x pakcage-install RET evil-leader RET</code> 으로 두 패키지를 설치한 뒤, 다음 코드를 <code>init.el</code> 에 작성한다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(require <span style="color:#e6db74">&#39;evil</span>)
(evil-mode <span style="color:#ae81ff">1</span>)

(require <span style="color:#e6db74">&#39;evil-leader</span>)
(global-evil-leader-mode <span style="color:#66d9ef">t</span>)
(evil-leader/set-leader <span style="color:#e6db74">&#34;&lt;SPC&gt;&#34;</span>)
</code></pre></div><p><code>require</code> 는 패키지를 로드하는 함수이다. 앞으로 패키지를 로드하면 제일 먼저 작성해야하는 코드이니 별도로 적는다. 인자를 넣을 때 앞에 <code>'</code> 이 있어야하므로 유의하길 바란다.</p>
<p>위와 같이 하면 빔 키맵과 리더키를 이맥스에서 쓸 수 있다. 리더키는 insert state<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>를 제외한 나머지 state에 설정된다. 예시에서는 스페이스바를 리더키로 설정했지만, 본인이 원하는 키를 넣어도 상관없다.</p>
<p>이제 리더키를 이용해 간단한 세팅을 해보자. 가령 <code>C-x C-f</code> 를 누르기 고통스러운 사람들은</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(evil-leader/set-key
  <span style="color:#e6db74">&#34;f&#34;</span> <span style="color:#e6db74">&#39;find-file</span>)
</code></pre></div><p>을 <code>init.el</code> 에 입력하고 eval하면 <code>SPC f</code> 로 파일을 열 수 있다.</p>
<h2 id="ivy">ivy</h2>
<p>ivy를 설치하면 패키지가 두 개 같이 온다. counsel과 swiper가 그것들이다. counsel은 이맥스의 기본적인 명령어를 ivy식으로 대체하고, swiper는 찾기 명령어를 ivy식으로 대체한다. 이 셋에 약간의 설정을 해주는 것으로, 더 나은 사용 경험을 구축할 수 있다.</p>
<p><code>init.el</code> 에 다음 함수를 입력하고 eval하자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(require <span style="color:#e6db74">&#39;counsel</span>)
(require <span style="color:#e6db74">&#39;swiper</span>)
(setq ivy-wrap <span style="color:#66d9ef">t</span>
      ivy-re-builders-alist <span style="color:#f92672">&#39;</span>((<span style="color:#66d9ef">t</span> <span style="color:#f92672">.</span> ivy--regex-fuzzy))
      ivy-use-selectable-prompt <span style="color:#66d9ef">t</span>)

(<span style="color:#a6e22e">define-key</span> ivy-switch-buffer-map <span style="color:#e6db74">&#34;C-j&#34;</span> <span style="color:#e6db74">&#39;ivy-next-line</span>)
(<span style="color:#a6e22e">define-key</span> ivy-switch-buffer-map <span style="color:#e6db74">&#34;C-k&#34;</span> <span style="color:#e6db74">&#39;ivy-previous-line</span>)
(<span style="color:#a6e22e">define-key</span> ivy-minibuffer-map <span style="color:#e6db74">&#34;C-j&#34;</span> <span style="color:#e6db74">&#39;ivy-next-line</span>)
(<span style="color:#a6e22e">define-key</span> ivy-minibuffer-map <span style="color:#e6db74">&#34;C-k&#34;</span> <span style="color:#e6db74">&#39;ivy-previous-line</span>)
(global-set-key (kbd <span style="color:#e6db74">&#34;M-x&#34;</span>) <span style="color:#e6db74">&#39;counsel-M-x</span>)

(<span style="color:#a6e22e">define-key</span> evil-normal-state-map <span style="color:#e6db74">&#34;C-s&#34;</span> <span style="color:#e6db74">&#39;swiper</span>)
</code></pre></div><p><code>setq</code> 는 그냥 변수 할당이다. 다만 위와 같이 여러 변수를 한꺼번에 할당할 수 있다. <code>define-key</code> 는 임의의 키에 함수를 할당한다. map은 다음 장에 설명한다.</p>
<p>위 함수는 ivy의 검색목록이 끝에 다다렀을 때 맨 위로 올려주고, 퍼지검색을 하도록 만들며, 목록 만이 아니라 입력한 것도 선택하게 해준다. 목록을 위아래로 움직일 때 <code>C-j</code> , <code>C-k</code> 을 누르도록 키를 설정하며, 찾기 명령어 (<code>C-s</code>) 를 ivy 사양으로 작동하도록 만들어준다.</p>
<h2 id="smex">smex</h2>
<p><code>M-x</code> 에서 히스토리 기반 정렬을 해주는 패키지 이다. 자주 쓰는 길고 긴 함수를 매번 입력할 필요 없이 목록을 조금씩 움직이면 바로 실행할 수 있기 때문에 정말 편하다. ivy를 설치했다면 별도의 설정 없이 설치만으로 적용된다.</p>
<p><code>M-x package-install RET smex RET</code> 로 설치한 뒤 <code>init.el</code> 에 다음을 작성한다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(require <span style="color:#e6db74">&#39;smex</span>)
(smex-initialize)
</code></pre></div><h2 id="undo-tree">undo-tree</h2>
<p>이맥스에는 redo가 없다! 그래서 redo를 지원해주는 별도의 패키지를 설치해야한다. <a href="https://elpa.gnu.org/packages/undo-tree.html">undo-tree</a>는 트리형식의 undo와 redo를 지원해, 우리가 흔히 아는 undo, redo는 물론이고, 브랜치를 옮기면서 여러 undo들을 redo할 수 있다.</p>
<p>undo-tree는 evil을 설치할 때 같이 설치되므로 따로 설치할 필요가 없다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-emacs-lisp" data-lang="emacs-lisp">(require <span style="color:#e6db74">&#39;undo-tree</span>)
(global-undo-tree-mode <span style="color:#66d9ef">t</span>)
(evil-leader/set-key
  <span style="color:#e6db74">&#34;u&#34;</span> <span style="color:#e6db74">&#39;undo-tree-visualize</span>)
</code></pre></div><p>상기 코드를 작성하고 eval 하자. 이제 <code>SPC u</code> 로 현재 undo, redo 상태를 시각화할 수 있다.</p>
<figure>
    <img src="/images/undo-tree.png"/> 
</figure>

<p>이 상태에서 <code>k</code> 로 undo, <code>j</code> 로 redo할 수 있으며, <code>h</code> 와 <code>l</code> 로 브랜치를 바꿔 undo, redo할 내용을 바꿀 수 있다.</p>
<p>이렇게 하면 이맥스는 순정 폐기물에서 빔 정도의 쓸만한 에디터로 변모한다. 이 상태로 텍스트 파일을 편집하는 데에 큰 지장은 없지만, 이 글을 읽는 여러분의 목적은 이맥스로 코딩하기일 것이다. 다음 장에서는 파이썬을 예시 삼아 이맥스에서 코딩 환경을 세팅하는 방법을 설명할 것이다.</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>evil 에서는 빔의 모드를 state 라고 한다. 이맥스에는 모드가 따로 있다. 다음 편에 작성 <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/emacs/" rel="tag">emacs</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>



<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hankail05-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/2020/05/emacs-conversion-guide-5/">이맥스 개종 가이드 5 - 혼자서 설정할 때 도움되는 정보</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2020/05/emacs-conversion-guide-4/">이맥스 개종 가이드 4 - 기타 유틸리티</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2020/05/emacs-conversion-guide-3/">이맥스 개종 가이드 3 - 개발 환경 구축</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2020/05/emacs-conversion-guide-2/">이맥스 개종 가이드 2 - 사람다운 이맥스 만들기</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/2020/05/emacs-conversion-guide-1/">이맥스 개종 가이드 1 - 설치 및 이맥스 기초</a></li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/emacs/" title="emacs">emacs (5)</a>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 hankail05.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.0.1/es5/sre/sre_browser.min.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>